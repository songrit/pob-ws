%script{:type=>"text/javascript", :src=>"http://maps.google.com/maps/api/js?sensor=false"}

:javascript
  function initialize() {
    var latLng = new google.maps.LatLng(13, 100);
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 15,
      center: latLng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
    var marker = new google.maps.Marker({
      position: latLng,
      map: map,
      draggable: true,
      icon: 'http://google-maps-icons.googlecode.com/files/factory.png'
    });
    google.maps.event.addListener(marker, 'dragend', function(event) {
      $('#lat').val(event.latLng.lat());
      $('#lng').val(event.latLng.lng());
    });
  }
  google.maps.event.addDomListener(window, 'load', initialize);

Latitude:
= text_field_tag :lat, :size=>20
Longitude:
= text_field_tag :lng, :size=>20
&br
#map{ :style=>'width:400px; height:300px;' }
