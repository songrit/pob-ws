<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: FusionChartsHelper</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">FusionChartsHelper</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/fusion_charts_helper_rb.html">
                lib/fusion_charts_helper.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Include this module wherever you want to use <a
href="FusionChartsHelper.html#M000220">render_chart</a>, <a
href="FusionChartsHelper.html#M000221">render_chart_html</a> and other
functions Version 1.5 (August 2010) - Added other parameters as options
hash. Added function <a
href="FusionChartsHelper.html#M000223">enable_FC_print_manager_js</a> to
enable PrintManager. Version 1.4 (2010) - Added other parameters to the <a
href="FusionChartsHelper.html#M000220">render_chart</a> and <a
href="FusionChartsHelper.html#M000221">render_chart_html</a> methods. (
w_mode, color, scale_mode, lang, detect_flash_version,auto_install_redirect
etc) Version 1.3 (March 2009) - debug_mode changes Version 1.2 (February
2009) - Compatible with rails 2.2 and above - removed the second parameter
in concat. Version 1.1 (January 2009) - Added <a
href="FusionChartsHelper.html#M000225">get_UTF8_BOM</a> function
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000224">add_cache_to_data_url</a>&nbsp;&nbsp;
      <a href="#M000223">enable_FC_print_manager_js</a>&nbsp;&nbsp;
      <a href="#M000225">get_UTF8_BOM</a>&nbsp;&nbsp;
      <a href="#M000220">render_chart</a>&nbsp;&nbsp;
      <a href="#M000222">render_chart_get_xml_from_action</a>&nbsp;&nbsp;
      <a href="#M000221">render_chart_html</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000224" class="method-detail">
        <a name="M000224"></a>

        <div class="method-heading">
          <a href="#M000224" class="method-signature">
          <span class="method-name">add_cache_to_data_url</span><span class="method-args">(str_data_url)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This function can be used when time needs to be added to the URL. This will
help avoiding cache of the page rendered by the URL. Can be used for
dataURL method.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000224-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000224-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fusion_charts_helper.rb, line 225</span>
225:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_cache_to_data_url</span>(<span class="ruby-identifier">str_data_url</span>)
226:     <span class="ruby-identifier">cache_buster</span>= <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">'%d_%m_%y_%H_%M_%S'</span>)
227:     <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">str_data_url</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'?'</span>)<span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>)
228:       <span class="ruby-identifier">str_data_url</span> = <span class="ruby-identifier">str_data_url</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;?FCCurrTime=&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">cache_buster</span>.<span class="ruby-identifier">to_s</span>
229:     <span class="ruby-keyword kw">else</span>
230:       <span class="ruby-identifier">str_data_url</span> = <span class="ruby-identifier">str_data_url</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;&amp;FCCurrTime=&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">cache_buster</span>.<span class="ruby-identifier">to_s</span>
231:     <span class="ruby-keyword kw">end</span>
232:     <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">&quot;The URL after appending time is &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_data_url</span>)
233:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str_data_url</span>
234:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000223" class="method-detail">
        <a name="M000223"></a>

        <div class="method-heading">
          <a href="#M000223" class="method-signature">
          <span class="method-name">enable_FC_print_manager_js</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Inserts the javascript code to enable the FC Print Manager. New feature
since v3.2
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000223-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000223-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fusion_charts_helper.rb, line 215</span>
215:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enable_FC_print_manager_js</span>
216:     
217:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;&lt;script type='text/javascript'&gt;&lt;!--\n FusionCharts.printManager.enabled(true);\n// --&gt;\n&lt;/script&gt;&quot;</span>)
218:     
219:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000225" class="method-detail">
        <a name="M000225"></a>

        <div class="method-heading">
          <a href="#M000225" class="method-signature">
          <span class="method-name">get_UTF8_BOM</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This function returns the BOM for UTF8. BOM needs to be placed as first few
bytes in the xml before providing to the chart. This can be used in the XML
provider views.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000225-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000225-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fusion_charts_helper.rb, line 239</span>
239:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_UTF8_BOM</span>
240:     
241:     <span class="ruby-identifier">utf8_arr</span>=[<span class="ruby-value">0x</span><span class="ruby-constant">EF</span>,<span class="ruby-value">0x</span><span class="ruby-constant">BB</span>,<span class="ruby-value">0x</span><span class="ruby-constant">BF</span>]
242:     <span class="ruby-identifier">utf8_str</span> = <span class="ruby-identifier">utf8_arr</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">&quot;c3&quot;</span>)
243:     
244:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">utf8_str</span>
245:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000220" class="method-detail">
        <a name="M000220"></a>

        <div class="method-heading">
          <a href="#M000220" class="method-signature">
          <span class="method-name">render_chart</span><span class="method-args">(chart_swf,str_url,str_data,chart_id,chart_width,chart_height,debug_mode=false,register_with_js=false,options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders a chart from the swf file passed as parameter either making use of
setChartDataURL method or setChartData method. The width and height of
chart are passed as parameters to this function. If the chart is not
rendered, the errors can be detected by setting debugging mode to true
while calling this function. The chart can be registered with javascript by
setting registerWithJS to true while calling this function.
</p>
<ul>
<li>parameter chart_swf : pass swf file that renders the chart.

</li>
<li>parameter str_url : pass URL path to the xml file.

</li>
<li>parameter str_data : pass xml content.

</li>
<li>parameter chart_id : Id for the chart, using which it will be recognized in
the HTML page. Each chart on the page needs to have a unique Id. Datatype:
String

</li>
<li>parameter chart_width : pass value as integer as the width of the chart.

</li>
<li>parameter chart_height : pass value as integer as the height of the chart.

</li>
<li>parameter debug_mode : By default, false. pass value as true ( a boolean )
for debugging errors, if any, while rendering the chart.

</li>
<li>parameter register_with_js :By default, false. pass value as true ( a
boolean ) for chart to be registered with javascript.

</li>
<li>parameter options={} : Hash containing other options to render the chart.
The options can be

<ul>
<li>data_format : &quot;xml&quot; or &quot;json&quot;.

</li>
<li>renderer : &quot;flash&quot; or &quot;javascript&quot;.

</li>
<li>w_mode : Window Mode - expected values &#8217;&#8217;,
&#8216;window&#8217;,&#8217;transparent&#8217; or &#8216;opaque&#8217;.

</li>
<li>color : Background color of the flash movie (here chart).

</li>
<li>scale_mode :
&#8216;noScale&#8217;,&#8217;exactFit&#8217;,&#8217;noBorder&#8217;,&#8217;showAll&#8217;.

</li>
<li>lang : Application Message Language - 2-letter code. Currently, only
&quot;EN&quot; is supported.

</li>
<li>detect_flash_version : If set on, the user would be redirected to Adobe
site if Flash player 8 is not installed.

</li>
<li>auto_install_redirect : Checks the Flash Player version and if version is
less than 8 and autoInstallRedirect is set on then asks the user to install
Flash Player from Adobe site.

</li>
</ul>
</li>
</ul>
<p>
Can be called from html block in the view where the chart needs to be
embedded.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000220-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000220-source">
<pre>
    <span class="ruby-comment cmt"># File lib/fusion_charts_helper.rb, line 31</span>
31:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_chart</span>(<span class="ruby-identifier">chart_swf</span>,<span class="ruby-identifier">str_url</span>,<span class="ruby-identifier">str_data</span>,<span class="ruby-identifier">chart_id</span>,<span class="ruby-identifier">chart_width</span>,<span class="ruby-identifier">chart_height</span>,<span class="ruby-identifier">debug_mode</span>=<span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">register_with_js</span>=<span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">options</span>={})
32:     <span class="ruby-identifier">chart_width</span>=<span class="ruby-identifier">chart_width</span>.<span class="ruby-identifier">to_s</span>
33:     <span class="ruby-identifier">chart_height</span>=<span class="ruby-identifier">chart_height</span>.<span class="ruby-identifier">to_s</span>
34:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t&lt;!-- START Script Block for Chart &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; --&gt;\n\t\t&quot;</span>) 
35:     <span class="ruby-identifier">concat</span>(<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;div&quot;</span>,<span class="ruby-value str">&quot;\n\t\t\t\tChart.\n\t\t&quot;</span>,{<span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;Div&quot;</span>,<span class="ruby-identifier">:align=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;center&quot;</span>}))
36:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\n\t\t&lt;script type='text/javascript'&gt;\n&quot;</span>)
37:         
38:     <span class="ruby-identifier">debug_mode_num</span>= <span class="ruby-identifier">debug_mode</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;1&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;0&quot;</span>
39:     <span class="ruby-identifier">register_with_js_num</span>= <span class="ruby-identifier">register_with_js</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;1&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;0&quot;</span> 
40:     
41:     <span class="ruby-identifier">w_mode</span> = <span class="ruby-value str">&quot;&quot;</span>
42:     <span class="ruby-identifier">color</span> = <span class="ruby-value str">&quot;&quot;</span>
43:     <span class="ruby-identifier">scale_mode</span> = <span class="ruby-value str">&quot;&quot;</span>
44:     <span class="ruby-identifier">lang</span> = <span class="ruby-value str">&quot;&quot;</span>
45:     <span class="ruby-identifier">detect_flash_version</span> = <span class="ruby-value str">&quot;&quot;</span>
46:     <span class="ruby-identifier">auto_install_redirect</span> = <span class="ruby-value str">&quot;&quot;</span>
47:     <span class="ruby-identifier">data_format</span> = <span class="ruby-value str">&quot;&quot;</span>
48:     <span class="ruby-identifier">renderer</span>=<span class="ruby-value str">&quot;&quot;</span>
49:       
50:     <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
51:       <span class="ruby-identifier">w_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:w_mode</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:w_mode</span>]
52:       <span class="ruby-identifier">color</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:color</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:color</span>]
53:       <span class="ruby-identifier">scale_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:scale_mode</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:scale_mode</span>]
54:       <span class="ruby-identifier">lang</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:lang</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:lang</span>]
55:       <span class="ruby-identifier">detect_flash_version</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:detect_flash_version</span>] <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;1&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;0&quot;</span>
56:       <span class="ruby-identifier">auto_install_redirect</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:auto_install_redirect</span>] <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;1&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;0&quot;</span>
57:       <span class="ruby-identifier">data_format</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:data_format</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:data_format</span>] <span class="ruby-comment cmt">#default value is &quot;xml&quot;</span>
58:       <span class="ruby-identifier">renderer</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:renderer</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;flash&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:renderer</span>] <span class="ruby-comment cmt"># default value is &quot;flash&quot;</span>
59:     <span class="ruby-keyword kw">end</span>
60:     <span class="ruby-comment cmt"># Instantiating the chart renderer</span>
61:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\t//Instantiate the Chart     \n\t\t\t\tif( FusionCharts.setCurrentRenderer ) FusionCharts.setCurrentRenderer(\&quot;&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">renderer</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\&quot;);\n&quot;</span>)
62: 
63:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\tvar chart_&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;=new FusionCharts('&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_swf</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;','&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;','&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_width</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;','&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_height</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;',&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">debug_mode_num</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;,&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">register_with_js_num</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;, '&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">color</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;', '&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">scale_mode</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;', '&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">lang</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;', '&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">detect_flash_version</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;', '&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">auto_install_redirect</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;');\n&quot;</span>)
64:     
65:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str_data</span>.<span class="ruby-identifier">empty?</span>
66:       <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\t&lt;!-- Set the dataURL of the chart --&gt;\n&quot;</span>)
67:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">data_format</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
68:         <span class="ruby-identifier">data_format</span>=<span class="ruby-value str">&quot;xmlurl&quot;</span>
69:       <span class="ruby-keyword kw">end</span>
70:       <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\tchart_&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;.setChartDataUrl(\&quot;&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">str_url</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\&quot;,\&quot;&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">data_format</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\&quot;);\n&quot;</span>)
71:       <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">&quot;The method used is setDataURL.The URL is &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_url</span>)
72:     <span class="ruby-keyword kw">else</span>
73:       <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\t&lt;!-- Provide entire XML data using DataXML method --&gt;\n&quot;</span>)
74:       <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\t&quot;</span>)
75:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">data_format</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
76:         <span class="ruby-identifier">data_format</span>=<span class="ruby-value str">&quot;xml&quot;</span>
77:       <span class="ruby-keyword kw">end</span>
78:       <span class="ruby-identifier">concat</span>(<span class="ruby-value str">'chart_'</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">'.setChartData(\''</span><span class="ruby-operator">+</span><span class="ruby-identifier">str_data</span><span class="ruby-operator">+</span><span class="ruby-value str">'\',\''</span><span class="ruby-operator">+</span><span class="ruby-identifier">data_format</span><span class="ruby-operator">+</span><span class="ruby-value str">'\');'</span>)
79:       <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
80:       <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">&quot;The method used is setDataXML.The XML is &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_data</span>)
81:     <span class="ruby-keyword kw">end</span>
82:     
83:     <span class="ruby-comment cmt"># only 'transparent' and 'opaque' values are considered for w_mode.</span>
84:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">w_mode</span><span class="ruby-operator">==</span><span class="ruby-value str">'transparent'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">w_mode</span><span class="ruby-operator">==</span><span class="ruby-value str">'opaque'</span>
85:       <span class="ruby-identifier">transparency</span>= (<span class="ruby-identifier">w_mode</span><span class="ruby-operator">==</span><span class="ruby-value str">'transparent'</span>) <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;true&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;false&quot;</span>
86:       <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\tchart_&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;.setTransparent(&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">transparency</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;);\n&quot;</span>)
87:     <span class="ruby-keyword kw">end</span>
88:     
89:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\t&lt;!-- Finally render the chart. --&gt;\n&quot;</span>)
90:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t\t\tchart_&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;.render('&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;Div');\n&quot;</span>)
91:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t&lt;/script&gt;\n&quot;</span>)
92:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t&lt;!-- END Script Block for Chart &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; --&gt;\n&quot;</span>)
93:     
94:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000222" class="method-detail">
        <a name="M000222"></a>

        <div class="method-heading">
          <a href="#M000222" class="method-signature">
          <span class="method-name">render_chart_get_xml_from_action</span><span class="method-args">(chart_swf,controller_name,action_name,params,chart_id,chart_width,chart_height,debug_mode=false,register_with_js=false,options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Deprecated from rails 2.2.2. Uses render_component. Renders a chart using
the swf file passed as parameter by calling an action to get the xml for
the setDataXML method. The width and height of chart are passed as
parameters to this function. If the chart is not rendered, the errors can
be detected by setting debugging mode to true while calling this function.
</p>
<ul>
<li>parameter chart_swf : SWF file that renders the chart.

</li>
<li>parameter controller_name : The complete name of the controller containing
the action.

</li>
<li>parameter action_name : The name of the action which will provide the xml.

</li>
<li>parameter params : The parameters that have to be passed to the action as
an array.

</li>
<li>parameter chart_id : String for identifying chart.

</li>
<li>parameter chart_width : Integer for the width of the chart.

</li>
<li>parameter chart_height : Integer for the height of the chart.

</li>
<li>parameter debug_mode : True ( a boolean ) for debugging errors, if any,
while rendering the chart.

</li>
<li>parameter options={} : Hash containing other options to render the chart.

</li>
</ul>
<p>
Can be called from html block in the view where the chart needs to be
embedded.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000222-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000222-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fusion_charts_helper.rb, line 205</span>
205:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_chart_get_xml_from_action</span>(<span class="ruby-identifier">chart_swf</span>,<span class="ruby-identifier">controller_name</span>,<span class="ruby-identifier">action_name</span>,<span class="ruby-identifier">params</span>,<span class="ruby-identifier">chart_id</span>,<span class="ruby-identifier">chart_width</span>,<span class="ruby-identifier">chart_height</span>,<span class="ruby-identifier">debug_mode</span>=<span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">register_with_js</span>=<span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">options</span>={})
206:     <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">&quot;The controller to be contacted is &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">controller_name</span>)
207:     <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">&quot;The action to be performed is &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">action_name</span>)
208:     <span class="ruby-identifier">str_data</span>= <span class="ruby-identifier">render_component</span>(<span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">action_name</span>,<span class="ruby-identifier">:controller=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">controller_name</span>,<span class="ruby-identifier">:params=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>)
209:     <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">&quot;The xml obtained from the given action is &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_data</span>)
210:     <span class="ruby-identifier">render_chart</span>(<span class="ruby-identifier">chart_swf</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">str_data</span>,<span class="ruby-identifier">chart_id</span>,<span class="ruby-identifier">chart_width</span>,<span class="ruby-identifier">chart_height</span>,<span class="ruby-identifier">debug_mode</span>,<span class="ruby-identifier">register_with_js</span>,<span class="ruby-identifier">options</span>)
211:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000221" class="method-detail">
        <a name="M000221"></a>

        <div class="method-heading">
          <a href="#M000221" class="method-signature">
          <span class="method-name">render_chart_html</span><span class="method-args">(chart_swf,str_url,str_data,chart_id,chart_width,chart_height,debug_mode=false,register_with_js=false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders a chart from the swf file passed as parameter either making use of
setChartDataURL method or setChartData method. The width and height of
chart are passed as parameters to this function. If the chart is not
rendered, the errors can be detected by setting debug mode to true while
calling this function.
</p>
<ul>
<li>parameter chart_swf : SWF file that renders the chart.

</li>
<li>parameter str_url : URL path to the xml file.

</li>
<li>parameter str_data : XML content.

</li>
<li>parameter chart_id : String for identifying chart.

</li>
<li>parameter chart_width : Integer for the width of the chart.

</li>
<li>parameter chart_height : Integer for the height of the chart.

</li>
<li>parameter debug_mode : By default, false. true ( a boolean ) for debugging
errors, if any, while rendering the chart.

</li>
<li>parameter register_with_js :By default, false. pass value as true ( a
boolean ) for chart to be registered with javascript.

</li>
<li>parameter options={} : Hash containing other options to render the chart.
The options can be

</li>
<li>w_mode : Window Mode - expected values &#8217;&#8217;,
&#8216;window&#8217;,&#8217;transparent&#8217; or &#8216;opaque&#8217;.

</li>
<li>color : Background color of the flash movie (here chart).

</li>
<li>scale_mode :
&#8216;noScale&#8217;,&#8217;exactFit&#8217;,&#8217;noBorder&#8217;,&#8217;showAll&#8217;.

</li>
<li>lang : Application Message Language - 2-letter code. Currently, only
&quot;EN&quot; is supported.

</li>
</ul>
<p>
Can be called from html block in the view where the chart needs to be
embedded.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000221-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000221-source">
<pre>
     <span class="ruby-comment cmt"># File lib/fusion_charts_helper.rb, line 112</span>
112:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_chart_html</span>(<span class="ruby-identifier">chart_swf</span>,<span class="ruby-identifier">str_url</span>,<span class="ruby-identifier">str_data</span>,<span class="ruby-identifier">chart_id</span>,<span class="ruby-identifier">chart_width</span>,<span class="ruby-identifier">chart_height</span>,<span class="ruby-identifier">debug_mode</span>=<span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">register_with_js</span>=<span class="ruby-keyword kw">false</span>)
113:     <span class="ruby-identifier">chart_width</span>=<span class="ruby-identifier">chart_width</span>.<span class="ruby-identifier">to_s</span>
114:     <span class="ruby-identifier">chart_height</span>=<span class="ruby-identifier">chart_height</span>.<span class="ruby-identifier">to_s</span>
115:     <span class="ruby-identifier">options</span>={}
116:     
117:     <span class="ruby-identifier">debug_mode_num</span>= <span class="ruby-identifier">debug_mode</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;1&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;0&quot;</span>
118:     <span class="ruby-identifier">register_with_js_num</span>= <span class="ruby-identifier">register_with_js</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;1&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;0&quot;</span> 
119:       <span class="ruby-identifier">w_mode</span> = <span class="ruby-value str">&quot;&quot;</span>
120:       <span class="ruby-identifier">color</span> = <span class="ruby-value str">&quot;&quot;</span>
121:       <span class="ruby-identifier">scale_mode</span> = <span class="ruby-value str">&quot;&quot;</span>
122:       <span class="ruby-identifier">lang</span> = <span class="ruby-value str">&quot;&quot;</span>
123:       
124:       
125:     <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
126:       <span class="ruby-identifier">w_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:w_mode</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:w_mode</span>]
127:       <span class="ruby-identifier">color</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:color</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:color</span>]
128:       <span class="ruby-identifier">scale_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:scale_mode</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:scale_mode</span>]
129:       <span class="ruby-identifier">lang</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:lang</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:lang</span>]
130:      
131:     <span class="ruby-keyword kw">end</span>
132:     
133:     <span class="ruby-identifier">str_flash_vars</span>=<span class="ruby-value str">&quot;&quot;</span>
134:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str_data</span>.<span class="ruby-identifier">empty?</span>
135:       <span class="ruby-identifier">str_flash_vars</span>=<span class="ruby-value str">&quot;chartWidth=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_width</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;chartHeight=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_height</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;debugmode=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">debug_mode_num</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;registerWithJS=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">register_with_js_num</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;DOMId=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;dataURL=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">str_url</span>
136:       <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">&quot;The method used is setDataURL.The URL is &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_url</span>)
137:     <span class="ruby-keyword kw">else</span>
138:       <span class="ruby-identifier">str_flash_vars</span>=<span class="ruby-value str">&quot;chartWidth=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_width</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;chartHeight=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_height</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;debugmode=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">debug_mode_num</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;registerWithJS=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">register_with_js_num</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;DOMId=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;dataXML=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">str_data</span>
139:       <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">&quot;The method used is setDataXML.The XML is &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_data</span>)
140:     <span class="ruby-keyword kw">end</span>
141:     
142:     <span class="ruby-identifier">str_flash_vars</span><span class="ruby-operator">+=</span><span class="ruby-value str">&quot;&amp;scaleMode=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">scale_mode</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;&amp;lang=&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">lang</span>
143:     
144:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\t\t&lt;!-- START Code Block for Chart &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; --&gt;\n\t\t&quot;</span>)
145:     
146:     <span class="ruby-identifier">object_attributes</span>={<span class="ruby-identifier">:classid=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;clsid:d27cdb6e-ae6d-11cf-96b8-444553540000&quot;</span>}
147:     <span class="ruby-identifier">object_attributes</span>=<span class="ruby-identifier">object_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:codebase=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0&quot;</span>)
148:     <span class="ruby-identifier">object_attributes</span>=<span class="ruby-identifier">object_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:width=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_width</span>)
149:     <span class="ruby-identifier">object_attributes</span>=<span class="ruby-identifier">object_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:height=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_height</span>)
150:     <span class="ruby-identifier">object_attributes</span>=<span class="ruby-identifier">object_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_id</span>)
151:     
152:     <span class="ruby-identifier">param_attributes1</span>={<span class="ruby-identifier">:name=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;allowscriptaccess&quot;</span>,<span class="ruby-identifier">:value=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;always&quot;</span>}
153:     <span class="ruby-identifier">param_tag1</span>=<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;param&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">param_attributes1</span>)
154:     
155:     <span class="ruby-identifier">param_attributes2</span>={<span class="ruby-identifier">:name=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;movie&quot;</span>,<span class="ruby-identifier">:value=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_swf</span>}
156:     <span class="ruby-identifier">param_tag2</span>=<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;param&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">param_attributes2</span>)
157:     
158:     <span class="ruby-identifier">param_attributes3</span>={<span class="ruby-identifier">:name=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;FlashVars&quot;</span>,<span class="ruby-identifier">:value=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">str_flash_vars</span>}
159:     <span class="ruby-identifier">param_tag3</span>=<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;param&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">param_attributes3</span>)
160:     
161:     <span class="ruby-identifier">param_attributes4</span>={<span class="ruby-identifier">:name=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;quality&quot;</span>,<span class="ruby-identifier">:value=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;high&quot;</span>}
162:     <span class="ruby-identifier">param_tag4</span>=<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;param&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">param_attributes4</span>)
163:     
164:     <span class="ruby-comment cmt"># w_mode, by default is set to be &quot;window&quot;</span>
165:     <span class="ruby-identifier">w_mode</span> = (<span class="ruby-identifier">w_mode</span><span class="ruby-operator">==</span><span class="ruby-value str">'transparent'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">w_mode</span><span class="ruby-operator">==</span><span class="ruby-value str">'opaque'</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">w_mode</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;window&quot;</span>
166:     
167:     <span class="ruby-identifier">param_attributes5</span>={<span class="ruby-identifier">:name=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;wmode&quot;</span>,<span class="ruby-identifier">:value=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">w_mode</span>}
168:     <span class="ruby-identifier">param_tag5</span>=<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;param&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">param_attributes5</span>)
169:     
170:     <span class="ruby-identifier">param_attributes6</span>={<span class="ruby-identifier">:name=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;bgcolor&quot;</span>,<span class="ruby-identifier">:value=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">color</span>}
171:     <span class="ruby-identifier">param_tag6</span>=<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;param&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">param_attributes6</span>)
172:     
173:     <span class="ruby-identifier">embed_attributes</span>={<span class="ruby-identifier">:src=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_swf</span>}
174:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:FlashVars=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">str_flash_vars</span>)
175:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:quality=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;high&quot;</span>)
176:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:width=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_width</span>)
177:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:height=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_height</span>).<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:name=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">chart_id</span>)
178:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:allowScriptAccess=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;always&quot;</span>)
179:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:type=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;application/x-shockwave-flash&quot;</span>)
180:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:pluginspage=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;http://www.macromedia.com/go/getflashplayer&quot;</span>)
181:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:wmode=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">w_mode</span>)
182:     <span class="ruby-identifier">embed_attributes</span>=<span class="ruby-identifier">embed_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:bgColor=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">color</span>)
183:     
184:     <span class="ruby-identifier">embed_tag</span>=<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;embed&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">embed_attributes</span>)
185:     
186:     <span class="ruby-identifier">concat</span>(<span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;object&quot;</span>,<span class="ruby-value str">&quot;\n\t\t\t\t&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">param_tag1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n\t\t\t\t&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">param_tag2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n\t\t\t\t&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">param_tag3</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n\t\t\t\t&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">param_tag4</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n\t\t\t\t&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">param_tag5</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n\t\t\t\t&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">param_tag6</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n\t\t\t\t&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">embed_tag</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n\t\t&quot;</span>,<span class="ruby-identifier">object_attributes</span>))
187:     <span class="ruby-identifier">concat</span>(<span class="ruby-value str">&quot;\n\t\t&lt;!-- END Code Block for Chart &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chart_id</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; --&gt;\n&quot;</span>)
188:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>